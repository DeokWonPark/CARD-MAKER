(this.webpackJsonptemplete=this.webpackJsonptemplete||[]).push([[0],{12:function(e,t,a){e.exports={addform:"addForm_addform__2Lrak",input:"addForm_input__dbrb9",textarea:"addForm_textarea__rQ_r0",BtnBox:"addForm_BtnBox__1ldup",addBtn:"addForm_addBtn__IV2zY"}},13:function(e,t,a){e.exports={editform:"editForm_editform__1gs-I",input:"editForm_input__3SHu5",textarea:"editForm_textarea__p2SbT",BtnBox:"editForm_BtnBox__1T2yE",deleteBtn:"editForm_deleteBtn__2-YCc"}},17:function(e,t,a){e.exports={login:"login_login__1kl7c",loginBox:"login_loginBox__18X5-",title:"login_title__1RsIq",logoImg:"login_logoImg__2k1bw",Btn:"login_Btn__uIxTk"}},23:function(e,t,a){e.exports={File:"fileInput_File__3vNgS",fileInput:"fileInput_fileInput__2cSy_",fileBtn:"fileInput_fileBtn__2m1Kl",on:"fileInput_on__3y1S5",loading:"fileInput_loading__3hStW",spin:"fileInput_spin___GRFM"}},25:function(e,t,a){e.exports={card:"card_card__27Zd6",userImg:"card_userImg__3O7Va",cardInfo:"card_cardInfo__1B1NV",cardName:"card_cardName__2r-cG"}},26:function(e,t,a){e.exports={ThemaItem:"themaItem_ThemaItem__HQdj4",select:"themaItem_select__1Ke_R",ThemaBtn:"themaItem_ThemaBtn__1ci5t",ThemaName:"themaItem_ThemaName__3UfEZ"}},29:function(e,t,a){e.exports={header:"header_header__3KxED",title:"header_title__g7fS9",logout:"header_logout__19X7W"}},30:function(e,t,a){e.exports={Editor:"editor_Editor__3uydk",title:"editor_title__24RPH",editorBox:"editor_editorBox__3Z6UI"}},31:function(e,t,a){e.exports={ThemaBox:"thema_ThemaBox__rzl0C",title:"thema_title__VAzL8",Thema:"thema_Thema__2tR7e"}},37:function(e,t,a){e.exports={Preview:"preview_Preview__2hzmg",title:"preview_title__3ETZB"}},38:function(e,t,a){e.exports={Maker:"maker_Maker__3BoGP",cardMaker:"maker_cardMaker__1xfwU"}},43:function(e,t,a){e.exports={CardMaker:"cardMaker_CardMaker__R3qsR"}},49:function(e,t,a){},53:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(2),r=a.n(c),i=a(41),s=a.n(i),o=(a(49),a(50),a(53),a(27)),u=a(5),l=a(17),m=a.n(l),d=function(e){var t=e.authService,a=Object(u.f)(),r=function(e){a.push({pathname:"/CARD-MAKER",state:{id:e}})},i=function(e){t.login(e.target.innerText).then((function(e){return r(e.user.uid)}))};return Object(c.useEffect)((function(){t.onAuthChanged((function(e){e&&r(e.uid)}))})),Object(n.jsx)("section",{className:m.a.login,children:Object(n.jsxs)("div",{className:m.a.loginBox,children:[Object(n.jsx)("img",{src:"https://raw.githubusercontent.com/DeokWonPark/CARD-MAKER/master/public/images/logo.png",alt:"logo",className:m.a.logoImg}),Object(n.jsx)("h2",{className:m.a.title,children:"Business Card Maker"}),Object(n.jsx)("button",{className:m.a.Btn,onClick:i,children:"Sign With Google"}),Object(n.jsx)("button",{className:m.a.Btn,onClick:i,children:"Sign With GitHub"})]})})},j=a(7),f=a(29),h=a.n(f),p=function(e){var t=e.onLogout;return Object(n.jsxs)("header",{className:h.a.header,children:[Object(n.jsxs)("div",{className:h.a.title,children:[Object(n.jsx)("i",{className:"fas fa-id-card-alt"}),Object(n.jsx)("p",{children:"Business Card Maker"})]}),Object(n.jsx)("button",{className:h.a.logout,onClick:function(){t()},children:"LogOut"})]})},b=a(19),g=a(14),_=a(22),O=a.n(_),x=a(28),v=a(23),N=a.n(v),k=function(e){var t=e.id,a=e.fileName,r=e.imageUpload,i=e.updateImg,s=Object(c.useState)(!1),o=Object(j.a)(s,2),u=o[0],l=o[1],m=Object(c.useRef)(null),d=function(){var e=Object(x.a)(O.a.mark((function e(a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,r.uploadImage(a.target.files[0]);case 3:n=e.sent,l(!1),i({cardId:t,imgName:n.original_filename,imgURL:n.secure_url});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:N.a.File,children:[Object(n.jsx)("input",{type:"file",accept:"image/*",name:"file",ref:m,className:N.a.fileInput,onChange:d}),Object(n.jsxs)("button",{className:"".concat(N.a.fileBtn," ").concat(a?N.a.on:""),onClick:function(e){e.preventDefault(),m.current.click()},children:[!u&&(a||"No file"),u&&Object(n.jsx)("div",{className:N.a.loading})]})]})},R=a(12),C=a.n(R),I=function(e){var t=e.imageUpload,a=e.updateCard,r=e.thema,i=Object(c.useState)({fileName:null,fileURL:null}),s=Object(j.a)(i,2),o=s[0],u=s[1],l=Object(c.useRef)(null),m=Object(c.useRef)(null),d=Object(c.useRef)(null),f=Object(c.useRef)(null),h=Object(c.useRef)(null),p=Object(c.useRef)(null);return Object(n.jsxs)("form",{className:C.a.addform,ref:p,children:[Object(n.jsx)("input",{type:"text",name:"name",placeholder:"Name",className:C.a.input,ref:l}),Object(n.jsx)("input",{type:"text",name:"company",placeholder:"Company",className:C.a.input,ref:m}),Object(n.jsx)("input",{type:"text",name:"title",placeholder:"Title",className:C.a.input,ref:d}),Object(n.jsx)("input",{type:"text",name:"email",placeholder:"E-Mail",className:C.a.input,ref:f}),Object(n.jsx)("textarea",{name:"message",id:"message",placeholder:"Message",className:C.a.textarea,ref:h}),Object(n.jsxs)("div",{className:C.a.BtnBox,children:[Object(n.jsx)(k,{id:null,fileName:o.fileName,imageUpload:t,updateImg:function(e){u({fileName:e.imgName,fileURL:e.imgURL})}}),Object(n.jsx)("button",{className:C.a.addBtn,onClick:function(e){e.preventDefault();var t={id:Date.now(),name:l.current.value||"",company:m.current.value||"",title:d.current.value||"",email:f.current.value||"",message:h.current.value||"",thema:r,imgName:o.fileName,imgURL:o.fileURL};a(t),u({fileName:null,fileURL:null}),p.current.reset()},children:"ADD"})]})]})},B=a(13),y=a.n(B),U=function(e){var t=e.card,a=e.updateCard,r=e.deleteCard,i=e.imageUpload,s=e.updateImg,o=Object(c.useRef)(null),u=Object(c.useRef)(null),l=Object(c.useRef)(null),m=Object(c.useRef)(null),d=Object(c.useRef)(null),j=function(e){null!=e.currentTarget&&(e.preventDefault(),a(Object(g.a)(Object(g.a)({},t),{},Object(b.a)({},e.currentTarget.name,e.currentTarget.value))))};return Object(n.jsxs)("form",{className:y.a.editform,children:[Object(n.jsx)("input",{type:"text",name:"name",value:t.name,className:y.a.input,onChange:j,ref:o}),Object(n.jsx)("input",{type:"text",name:"company",value:t.company,className:y.a.input,onChange:j,ref:u}),Object(n.jsx)("input",{type:"text",name:"title",value:t.title,className:y.a.input,onChange:j,ref:l}),Object(n.jsx)("input",{type:"text",name:"email",value:t.email,className:y.a.input,onChange:j,ref:m}),Object(n.jsx)("textarea",{name:"message",id:"message",value:t.message,className:y.a.textarea,onChange:j,ref:d}),Object(n.jsxs)("div",{className:y.a.BtnBox,children:[Object(n.jsx)(k,{id:t.id,fileName:t.imgName,imageUpload:i,updateImg:s}),Object(n.jsx)("button",{className:y.a.deleteBtn,onClick:function(e){e.preventDefault(),r(t)},children:"Delete"})]})]})},w=a(30),T=a.n(w),A=function(e){var t=e.cards,a=e.updateCard,c=e.deleteCard,r=e.imageUpload,i=e.updateImg,s=e.thema;return Object(n.jsxs)("section",{className:T.a.Editor,children:[Object(n.jsx)("h2",{className:T.a.title,children:"Card Editor"}),Object(n.jsxs)("div",{className:T.a.editorBox,children:[Object.keys(t).map((function(e){return Object(n.jsx)(U,{card:t[e],updateCard:a,deleteCard:c,imageUpload:r,updateImg:i},e)})),Object(n.jsx)(I,{imageUpload:r,updateCard:a,thema:s})]})]})},S=a(25),D=a.n(S),E=function(e){var t=e.card,a=Object(c.useRef)(null);return Object(c.useEffect)((function(){null!==t.thema?a.current.style.backgroundImage="url(".concat(t.thema,")"):a.current.style.backgroundColor="white"}),[t]),Object(n.jsxs)("div",{className:D.a.card,ref:a,children:[Object(n.jsx)("img",{src:t.imgURL||"/images/default_logo.png",alt:"userImg",className:D.a.userImg}),Object(n.jsxs)("div",{className:D.a.cardInfo,children:[Object(n.jsx)("h2",{className:D.a.cardName,children:t.name}),Object(n.jsx)("p",{children:t.company}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:t.title}),Object(n.jsx)("p",{children:t.email}),Object(n.jsx)("p",{children:t.message})]})]})},L=a(37),M=a.n(L),P=function(e){var t=e.cards;return Object(n.jsxs)("section",{className:M.a.Preview,children:[Object(n.jsx)("h2",{className:M.a.title,children:"Card Preview"}),Object.keys(t).map((function(e){return Object(n.jsx)(E,{card:t[e]},e)}))]})},W=a(26),F=a.n(W),K=function(e){var t=e.ThemaInfo,a=e.selectThema,r=e.propsThema,i=Object(c.useState)(!1),s=Object(j.a)(i,2),o=s[0],u=s[1];Object(c.useEffect)((function(){r===t.imgURL?u(!0):u(!1)}),[r,t]);return Object(n.jsxs)("li",{className:"".concat(F.a.ThemaItem," ").concat(o?F.a.select:""),onClick:function(){a(t)},children:[Object(n.jsx)("button",{className:F.a.ThemaBtn,children:Object(n.jsx)("img",{src:t.imgURL,alt:"thema"})}),Object(n.jsx)("p",{className:F.a.ThemaName,children:t.name})]})},G=a(31),z=a.n(G),H=function(e){var t=e.selectThema,a=e.propsThema,r=Object(c.useState)({1:{name:"Purple Load",imgURL:"https://raw.githubusercontent.com/DeokWonPark/CARD-MAKER/master/public/images/thema1.jpg"},2:{name:"Black Gard",imgURL:"https://raw.githubusercontent.com/DeokWonPark/CARD-MAKER/master/public/images/thema2.jpg"},3:{name:"Colorful Geometric",imgURL:"https://raw.githubusercontent.com/DeokWonPark/CARD-MAKER/master/public/images/thema3.jpg"},4:{name:"Avengers",imgURL:"https://raw.githubusercontent.com/DeokWonPark/CARD-MAKER/master/public/images/thema4.jpg"},5:{name:"City",imgURL:"https://raw.githubusercontent.com/DeokWonPark/CARD-MAKER/master/public/images/thema5.jpg"}}),i=Object(j.a)(r,2),s=i[0];i[1];return Object(n.jsxs)("section",{className:z.a.ThemaBox,children:[Object(n.jsx)("h2",{className:z.a.title,children:"Choose a Thema"}),Object(n.jsx)("ul",{className:z.a.Thema,children:Object.keys(s).map((function(e){return Object(n.jsx)(K,{ThemaInfo:s[e],selectThema:t,propsThema:a},e)}))})]})},V=a(38),Z=a.n(V),q=function(e){var t=e.imageUpload,a=e.database,r=e.userId,i=Object(c.useState)("https://raw.githubusercontent.com/DeokWonPark/CARD-MAKER/master/public/images/thema1.jpg"),s=Object(j.a)(i,2),o=s[0],u=s[1],l=Object(c.useState)({}),m=Object(j.a)(l,2),d=m[0],f=m[1];Object(c.useEffect)((function(){if(r){var e=a.read(r,(function(e){f(e)}));return function(){e()}}}),[r,a]);return Object(n.jsxs)("section",{className:Z.a.Maker,children:[Object(n.jsx)(H,{selectThema:function(e){u(e.imgURL)},propsThema:o}),Object(n.jsxs)("div",{className:Z.a.cardMaker,children:[Object(n.jsx)(A,{cards:d,updateCard:function(e){f((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(b.a)({},e.id,e))})),a.write(e,r)},deleteCard:function(e){f((function(t){var a=Object(g.a)({},t);return delete a[e.id],a})),a.removeCard(e,r)},imageUpload:t,updateImg:function(e){f((function(t){var a=Object(g.a)({},t);return a[e.cardId].imgName=e.imgName,a[e.cardId].imgURL=e.imgURL,a})),a.write(d[e.cardId],r)},thema:o}),Object(n.jsx)(P,{cards:d})]})]})},J=a(43),Q=a.n(J),X=function(e){var t=e.authService,a=e.imageUpload,r=e.database,i=Object(u.f)().state,s=Object(u.f)(i&&i.id),o=Object(c.useState)(),l=Object(j.a)(o,2),m=l[0],d=l[1];return Object(c.useEffect)((function(){t.onAuthChanged((function(e){e?d(e.uid):s.push("/")}))}),[m,s,t]),Object(n.jsxs)("section",{className:Q.a.CardMaker,children:[Object(n.jsx)(p,{onLogout:function(){t.logout()}}),Object(n.jsx)(q,{imageUpload:a,database:r,userId:m})]})};var Y=function(e){var t=e.authService,a=e.imageUpload,c=e.database;return Object(n.jsx)(o.a,{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:["/","/login"],exact:!0,children:Object(n.jsx)(d,{authService:t})}),Object(n.jsx)(u.a,{path:"/CARD-MAKER",children:Object(n.jsx)(X,{authService:t,imageUpload:a,database:c})})]})})},$=a(20),ee=a(21),te=a(32),ae=(a(59),a(61),te.a.initializeApp({apiKey:"AIzaSyBdyswDV9H43CWPUBtZwWFsA4NdBRW5iUA",authDomain:"business-card-maker-fd682.firebaseapp.com",databaseURL:"https://business-card-maker-fd682-default-rtdb.firebaseio.com/",projectId:"business-card-maker-fd682"})),ne=ae.auth(),ce=ae.database(),re=new te.a.auth.GoogleAuthProvider,ie=new te.a.auth.GithubAuthProvider,se=function(){function e(){Object($.a)(this,e)}return Object(ee.a)(e,[{key:"login",value:function(e){var t=this.getProvider(e);return ne.signInWithPopup(t)}},{key:"logout",value:function(){ne.signOut()}},{key:"onAuthChanged",value:function(e){ne.onAuthStateChanged((function(t){e(t)}))}},{key:"getProvider",value:function(e){switch(e){case"Sign With Google":return re;case"Sign With Github":return ie;default:throw new Error("No Search Provider: ".concat(e))}}}]),e}(),oe=function(){function e(){Object($.a)(this,e)}return Object(ee.a)(e,[{key:"uploadImage",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.cloudinary.com/v1_1/".concat("ejrdnjs","/image/upload"),(n=new FormData).append("file",t),n.append("upload_preset","zfhffhko"),e.next=6,fetch(a,{method:"POST",body:n});case 6:return c=e.sent,e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ue=function(){function e(){Object($.a)(this,e)}return Object(ee.a)(e,[{key:"write",value:function(e,t){ce.ref("".concat(t,"/").concat(e.id)).set(e)}},{key:"removeCard",value:function(e,t){ce.ref("".concat(t,"/").concat(e.id)).remove()}},{key:"read",value:function(e,t){var a=ce.ref("".concat(e));return a.on("value",(function(e){var a=e.val();a&&t(a)})),function(){a.off()}}}]),e}(),le=new se,me=new oe,de=new ue;s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Y,{authService:le,imageUpload:me,database:de})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.ce6e5e78.chunk.js.map